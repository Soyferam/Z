<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>ZmeiFi Menu</title>

  <!-- Ð¨Ñ€Ð¸Ñ„Ñ‚Ñ‹ -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <!-- Telegram SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- TonConnect UI SDK -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>

<body>
  <!-- ðŸ’³ ÐšÐ¾ÑˆÐµÐ»Ñ‘Ðº -->
  <div class="wallet">
    <div class="wallet-left">
      <img src="./bg/logo.png" alt="TON" />
      106.05
    </div>

    <!-- ðŸ§© ÐšÐ½Ð¾Ð¿ÐºÐ° TonConnect -->
    <div class="wallet-right">
      <div id="ton-connect"></div>
    </div>
  </div>

  <!-- ðŸ Ð›Ð¾Ð³Ð¾ Ð¸Ð³Ñ€Ñ‹ -->
  <img src="./bg/snake-logo.png" alt="ZmeiFi Logo" class="logo" />

  <!-- ðŸ’° Ð’Ð²Ð¾Ð´ ÑÑƒÐ¼Ð¼Ñ‹ TON -->
  <div class="amount-input">
    <input
      type="number"
      inputmode="decimal"
      step="0.01"
      min="0"
      placeholder="Enter TON amount"
      id="depositInput"
    />
    <div class="quick-ton-buttons">
      <button data-value="1">1 TON</button>
      <button data-value="2">2 TON</button>
      <button data-value="5">5 TON</button>
      <button data-value="10">10 TON</button>
    </div>
  </div>

  <!-- â–¶ï¸ Ð˜Ð³Ñ€Ð°Ñ‚ÑŒ -->
  <button class="btn-play" id="playBtn">PLAY</button>

  <!-- ðŸ“‹ ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð¼ÐµÐ½ÑŽ -->
  <div class="menu-buttons">
    <button>GUIDE</button>
    <button class="notification">REWARDS</button>
    <button>LEADERBOARD</button>
    <button>WITHDRAW</button>
  </div>

  <!-- ðŸ“ˆ ÐŸÑ€Ð¸Ð±Ñ‹Ð»ÑŒ -->
  <div class="profit-box">
    <div class="profit-text">
      <div>Profit: <span style="color: #00FF00">50$ (20%)</span></div>
      <div>Tokens: <span style="color: #00FF00">2937 âš¡</span></div>
    </div>
    <div class="share-btn">
      ðŸ”—
      <small>SHARE</small>
    </div>
  </div>

  <!-- ðŸ“œ Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ -->
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const tg = window.Telegram?.WebApp;
      if (tg) {
        tg.ready();
        tg.expand();
        tg.requestFullscreen?.();
        document.body.style.overflow = 'hidden';
      }

      // âœ… Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ TonConnect
      const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'https://z-ten-iota.vercel.app/tonconnect-manifest.json',
        buttonRootId: 'ton-connect',
      });

      // ðŸ‘‰ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ TON
      document.querySelectorAll('.quick-ton-buttons button').forEach(btn => {
        btn.addEventListener('click', () => {
          document.getElementById('depositInput').value = btn.dataset.value;
        });
      });

      // â–¶ï¸ ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÐ½Ð¾Ð¿ÐºÐ¸ PLAY
      const playBtn = document.getElementById('playBtn');
      playBtn.addEventListener('click', () => {
        const amount = parseFloat(document.getElementById('depositInput').value);
        if (isNaN(amount) || amount <= 0) {
          alert("Please enter a valid TON amount.");
          return;
        }
        sessionStorage.setItem("depositAmount", amount);
        window.location.href = "game.html";
      });
    });
  </script>
</body>
</html>
